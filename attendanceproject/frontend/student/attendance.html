<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Student - Attendance</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
</head>
<body>
  <h2>Student - Submit Justification (Demo)</h2>
  <form id="just-form" enctype="multipart/form-data" method="post" action="/backend/submit_justification.php">
    <label>User ID: <input name="user_id" value="3"></label><br>
    <label>Session ID: <input name="session_id" value="1"></label><br>
    <label>Reason: <input name="reason" value="Medical"></label><br>
    <label>File: <input type="file" name="file"></label><br>
    <button type="submit">Submit Justification</button>
  </form>

<script>
$('#just-form').on('submit', function(e){
  e.preventDefault();
  var form = $(this)[0];
  var data = new FormData(form);
  $.ajax({
    url: '/backend/submit_justification.php',
    type: 'POST',
    processData: false,
    contentType: false,
    data: data,
    success: function(resp){
      try { var j = JSON.parse(resp); if(j.success) alert('Submitted'); else alert('Error: '+(j.error||'unknown')); } catch(e){ alert('Submitted (no JSON)'); }
    }
  });
});
</script>
</body>
</html>
